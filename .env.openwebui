# =============================================================================
# OPENWEBUI CONFIGURATION
# =============================================================================

# Core Configuration
WEBUI_AUTH=True
WEBUI_NAME=LightRAG Production
WEBUI_DESCRIPTION=RAG System with Knowledge Graphs

# API Configuration
OPENAI_API_BASE_URL=http://rag:9621/v1
OPENAI_API_KEY=${LIGHTRAG_API_KEY}

# User Management
JWT_EXPIRES_IN=1h
ENABLE_OAUTH_SIGNUP=false
ENABLE_SIGNUP=false
DEFAULT_USER_ROLE=admin
ENABLE_ADMIN_EXPORT=true

# Features
ENABLE_COMMUNITY_SHARING=false
ENABLE_LOGIN_FORM=true

# File Upload
FILE_UPLOAD_ENABLED=true
FILE_UPLOAD_SIZE_LIMIT=200
SUPPORTED_FILE_TYPES=.pdf,.doc,.docx,.txt,.md,.csv,.json

# Chat Configuration
CHAT_COMPLETION_ENABLED=true
CHAT_HISTORY_ENABLED=true
MAX_CHAT_HISTORY=50

# CORS Settings
CORS_ALLOW_ORIGIN=*

# =============================================================================
# PERFORMANCE OPTIMIZATION - USING EXISTING SERVICES
# =============================================================================

# Redis Configuration (using existing kv service)
REDIS_URL=redis://kv:6379/0
REDIS_HOST=kv
REDIS_PORT=6379
ENABLE_REDIS=true

# Vector Database Configuration (using existing Qdrant)
VECTOR_DB=qdrant
QDRANT_URI=http://vectors:6333
QDRANT_API_KEY=${QDRANT_API_KEY}
QDRANT_COLLECTION_NAME=openwebui
ENABLE_RAG_HYBRID_SEARCH=true

# Document Processing & RAG
ENABLE_RAG_LOCAL_WEB_FETCH=true
ENABLE_RAG_WEB_SEARCH=false
RAG_EMBEDDING_ENGINE=openai
RAG_EMBEDDING_MODEL=text-embedding-3-small
RAG_EMBEDDING_BATCH_SIZE=10
RAG_TOP_K=5
RAG_RELEVANCE_THRESHOLD=0.0

# Content Extraction
CONTENT_EXTRACTION_ENGINE=tika
ENABLE_CONTENT_EXTRACTION=true

# Search and Indexing
ENABLE_SEARCH=true
SEARCH_BACKEND=qdrant
ENABLE_FULLTEXT_SEARCH=true

# Performance Settings
ENABLE_MODEL_FILTER=true
ENABLE_STREAMING=true
ENABLE_RATE_LIMITING=true
RATE_LIMIT_STORE=redis
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# Session Management
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_BACKEND=redis