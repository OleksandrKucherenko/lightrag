# Global configuration for local development
{
    email admin@local.dev

    # Use internal CA for local development
    acme_ca internal

    # Docker provider handled automatically by lucaslorentz/caddy-docker-proxy image

    # Local development settings - enable internal CA for self-signed certs
    auto_https internal_issuer
}

# Wildcard certificate for dev.localhost
*.dev.localhost {
    tls /certificates/dev.localhost.pem /certificates/dev.localhost-key.pem
}

# Fallback for any unconfigured domains
:80, :443 {
    # Health check endpoint
    respond /health "OK" 200

    # Default response
    respond "LightRAG Local Development Stack" 200

    # Add debug info for local development
    respond /debug "Environment: local.dev development" 200
}